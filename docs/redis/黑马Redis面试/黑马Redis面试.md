黑马Redis面试

## Redis 面试框架

![image-20250829174159581](https://typora-yuanbaoer2.oss-cn-shanghai.aliyuncs.com/img-typora/image-20250829174159581.png)

## 高频面试问题

**使用场景**

> - Redis的数据持久化策略有哪些
> - 什么是缓存穿透，怎么解决
> - 什么是布隆过滤器
> - 什么是缓存击穿，怎么解决
> - 什么是缓存雪崩，怎么解决
> - redis双写问题
> - Redis分布式锁如何实现
> - Redis实现分布式锁如何合理的控制锁的有效时长
> - Redis的数据过期策略有哪些
> - Redis的数据淘汰策略有哪些

**其他面试题**

> - Redis集群有哪些方案，知道嘛
> - 什么是Redis主从同步
> - 你们使用Redis是单点还是集群？哪种集群
> - Redis分片集群中数据是怎么存储和读取的
> - Redis集群脑裂
> - 怎么保证redis1的高并发高可用
> - 你们用过redis的事务吗？事务的命令有哪些
> - redis是单线程的，但是为什么还是那么快？

---

### 实际面试案例一

1. **我看你做的项目中，都用到了redis，你在最近的项目中哪些场景使用了redis呢？**

> 结合项目回答
>
> - 一是验证你的项目场景的真实性，二是为了作为深入发问的切入点
>
> - 缓存
>
>   追问：
>
>   - **缓存三兄弟（穿透、击穿、雪崩）、双写一致、持久化、数据过期策略、数据淘汰策略**
>
> - 分布式锁
>
>   追问：分布式锁如何实现
>
>   - **setnx、redission**
>
> - 消息队列、延迟队列
>
>   追问：**何种数据类型**
>
> - ... 

2. **如果发生了缓存穿透、击穿、雪崩，该如何解决呢？**

> 这里就一次性问了三个问题，需要依次回答
>
> - **缓存穿透**：查询一个 **不存在** 的数据，mysql查询不到数据也不会直接写入缓存，就会导致每次请求都查数据库
>
>   - **解决方案一：**缓存空数据，查询返回的数据为空，仍把这个空结果进行缓存。
>
>     ```json
>     {key:1, value: null}
>     ```
>
>     **优点：简单**
>
>     **缺点：消耗内存，可能会发生不一致问题**
>
>   - **解决方案二：布隆过滤器**
>
>     ![image-20250829180247890](https://typora-yuanbaoer2.oss-cn-shanghai.aliyuncs.com/img-typora/image-20250829180247890.png)
>
>   - **布隆过滤器概念**
>
>     ![image-20250829180449000](https://typora-yuanbaoer2.oss-cn-shanghai.aliyuncs.com/img-typora/image-20250829180449000.png)
>
>     可能会产生**误判**
>
>     ![image-20250829180721946](https://typora-yuanbaoer2.oss-cn-shanghai.aliyuncs.com/img-typora/image-20250829180721946.png)
>
>     可以通过实现方案调整误判率
>
>   

---

