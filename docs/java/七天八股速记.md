# 七天八股速记

## 第一天 Java基础知识

### ① 接口和抽象类的区别

**接口**

1. **方法**：接口里全是抽象方法，没有普通方法 。
2. **关键字**：使用 `interface` 关键字定义 。
3. **变量**：只能定义静态常量 。
4. **子类实现**：子类必须实现接口中的所有方法 。而且一个类可以 `implements` 多个接口，实现多继承 。
5. **构造方法**：接口不能有构造方法 。

**抽象类**

1. **方法**：抽象类既可以包含抽象方法，也能有普通方法 。
2. **关键字**：使用 `abstract` 关键字修饰 。
3. **变量**：可以定义成员变量 。
4. **子类实现**：子类需要实现抽象类中的所有抽象方法 。不过 Java 中一个类只能继承一个抽象类，遵循**单继承原则** 。
5. **构造方法**：抽象类可以有构造方法 ，主要用于给子类初始化一些公共资源 。

---

### ① Java中的继承和C++有什么区别

C++中可以实现多继承，Java中只能实现单继承

---

### ① Java 中有哪些数据结构？用过 HashMap 吗，说一下 HashMap 底层实现

- 数据结构有数组、链表、栈、队列、堆、树、Map等
- HashMap在JDK1.7之前采用数组加链表的形式实现，在1.8之后使用了红黑树：通过底层数组存储对象节点，采用链地址法，把新增对象节点连接在当前地址的节点下面，且规定当链表长度大于8时，将链表转换成红黑树结构。

> 介绍下红黑树：
>
> - 红黑树是一种自平衡二叉搜索树，**（Self-Balancing Binary Search Tree, BST）**，通过在节点中引入 “颜色”（红色或黑色）这一属性，并遵循严格的颜色规则，确保树的高度始终维持在 **O(log n)** 级别（n 为节点总数），从而保证插入、删除、查找等核心操作的时间复杂度稳定为 **O(log n)**，避免了普通二叉搜索树在极端情况下（如有序插入）退化为链表、操作复杂度降至 O (n) 的问题。
>
> 二叉搜索树
>
> - 对于任意节点，其左子树中**所有节点的值**都**小于**该节点的值
> - 对于任意节点，其右子树中**所有节点的值**都**大于**该节点的值
> - 左右子树本身也必须是二叉搜索树
> - （通常约定）树中不包含值相等的节点

---

### ① Java中用的是值传递还是引用传递

值传递，无论是基本数据类型还是引用数据类型，都是值传递

---

### ① 面向过程和面向对象有什么区别？

- 面向过程是一种以过程为中心的编程思想，在处理某件事的时候，以正在进行什么为主要目标，分步骤完成目标。

- 而面向对象的思想是将事物抽象为对象，赋予其属性和方法，通过每个对象执行自己的方法来完成目标。

- 面向过程效率更高，而面向对象耦合低（易复用），扩展需求，易维护。

---

### ① final、finally、finalize的区别

1. final 用于修饰属性、类、方法，修饰的变量一旦赋值后，不能被重新赋值。被 final 修饰的实例变量必须显示指定初始值。
2. finally 用于异常处理，只能用在 try/catch 中，finally 后的代码总会被执行（当`try`块中有`return`语句时，`finally`块仍然会执行 ）。
3. finalize 是 java.lang.Object 类中的方法，每一个对象都会继承这个方法，再垃圾回收机制（GC）执行的时候会被调用，允许回收未被使用的内存垃圾。

**finally 执行顺序分析（try中有return）**

1. **`try`块中执行`return`语句**：当程序执行到`try`块中的`return`语句时，它首先会将`return`语句要返回的值暂存起来。例如，如果`return`语句返回一个变量的值，它会先获取这个变量当时的值并保存。
2. **执行`finally`块**：在暂存返回值后，程序会去执行`finally`块中的代码。这是因为`finally`块的设计目的就是无论`try`块中是否发生异常，也无论`try`块以何种方式结束（包括`return`语句），都要确保执行其中的代码。
3. **返回暂存的值**：`finally`块执行完毕后，程序会返回之前暂存的值。

---

### ① 什么是序列化？是什么反序列化？

- 序列化其实就是将对象转换为字节序列格式，使其可存储可传输。
- 反序列化就是将字节序列格式转换成对象，是序列化的补集。

---

### ① 什么是不可变类？

不可变类是指实例的属性不能被修改的类。一个不可变类的实例对象从被创建出来，它的成员变量就不能被修改。Java 平台的类库中包含许多的不可变类，比如**String、基本类型的包装类等**。不可变类比一般的更加安全。

----

### ① 为什么 Java中 String 是不可变类？

1. String 类中包含 char 数组 value、整型的 offset 和 count 三个属性，这三个属性都是 private 的，且没有提供方法修改数值，因此在初始化后无法从外部改变。
2. String 类中的这三个属性都是被 final 修饰的，无法从内部进行改变。
3. 方法区有一个特殊存储区域 String Pool，当创建 String 时，如果在 String Pool 中找到相同的字符串值，则会返回一个已存在 String 的引用而不会新建一个对象。假设 String 是可变的，则会导致其他引用这个字符串值的 String 的值发生变化。

---

### ① API 和 SPI 的区别

API 和 SPI 都是制定接口传输数据。

- API 是由实现方负责定义和实现，调用方只负责调用的 API。

- 而 SPI 是指由调用方制定的接口，这个接口由实现方针对接口进行不同的实现，再由调用方选择实现方。

  例如在 JDBC 连接数据库时，针对不同的数据库需要不同的驱动实现， JDBC 提供了驱动接口，由不同的实现方进行实现了这些不同的驱动，然后我们就可以在 JDK 中引用实这些实现了的驱动包进行使用。